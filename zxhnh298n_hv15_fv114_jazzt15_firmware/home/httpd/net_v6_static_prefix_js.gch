<script language="javascript">var STATIC_PREFIX_PARA = new Array("ViewName","Prefix","PrefixLen","Autoconf","Onlink","PreferLifetime","ValidLifetime","Delegation");var PREFIX_PARA = new Array("Prefix","PrefixLen","PreferLifetime","ValidLifetime","Delegation");function getmsg(id){var str = new Array();str[0] = new Array(101, "&?error_101;");str[1] = new Array(115, "&?error_115;");str[2] = new Array(116, "&?error_116;");str[3] = new Array(117, "&?error_117;");str[4] = new Array(200, "&?error_200;");str[5] = new Array(202, "&?error_202;");return getMsgFormArray(str, arguments) }function pageLoad(url){getObj("fSubmit").action = url;var errstr= getValue("IF_ERRORSTR");var errpara = getValue("IF_ERRORPARAM");OldProcessRet(errstr, errpara);moveErrLayer(595,93);showTable();}function getImage(src, strmethod, id){return ("<input type=\"button\" id=\""+id+"\"  onclick=\""+ strmethod +"\" style=\"width:20px;height:20px;border:0px;padding:2px;cursor:pointer;background:url("+src+");\">");}function getNameValue(id, size, value){return ("<input type=\"text\" class=\"uiNoBorder\" size=\"" + size +"\" value=\""
+ value + "\"  id=\"" + id + "\"  readonly>");}function addline(index){var newline = getObj("Static_Prefix_Table").insertRow(-1);newline.setAttribute("class", "white");newline.setAttribute("className", "white");for(var i = 1; i < PREFIX_PARA.length; i++){cellId = "Line_"+ index + "_"+ PREFIX_PARA[i] + "_"+ i;if(1 == i){newline.insertCell(-1).innerHTML = getNameValue(cellId, 24, getValue("Prefix"+ index) + "/"+ getValue("PrefixLen"+ index) );}else {newline.insertCell(-1).innerHTML = getNameValue(cellId, 8, getValue(PREFIX_PARA[i] + index));}}newline.insertCell(-1).innerHTML = getImage("img/button_modify.gif", "Modify("+index+")", "modify"+ index);newline.insertCell(-1).innerHTML = getImage("img/button_delete.gif", "Delete("+index+")", "delete"+ index);}function showTable(){var num = getValue("IF_INSTNUM");if( num > 0){for(var i = 0; i < num; i++){addline(i);}}else {var newline = getObj("Static_Prefix_Table").insertRow(-1);newline.setAttribute("align", "center");newline.setAttribute("class", "white");newline.setAttribute("className", "white");var objcell = newline.insertCell(-1);objcell.colSpan = 6;objcell.innerHTML= "&?note_007;";}}function Modify(i){jslDiDisplay("Btn_Add");jslEnDisplay("Btn_Edit");jslDisable("Frm_Prefix", "Frm_PrefixLen");document.getElementById("back").style.display = "";modifyGetValue(i);index = i;}function modifyGetValue(i){var delegation = getValue("Delegation"+ i);if("::"== getValue("Prefix"+ i)){setValue("Frm_Prefix", "");}else {jslSetValue("Frm_Prefix", "Prefix"+ i);}if("0"== getValue("PrefixLen"+ i)){setValue("Frm_PrefixLen", "");}else {jslSetValue("Frm_PrefixLen", "PrefixLen"+ i);}jslSetValue("Frm_PreferLifetime", "PreferLifetime"+ i);jslSetValue("Frm_ValidLifetime", "ValidLifetime"+ i);if("NONE"== delegation){getObj("Frm_RA").checked = false;getObj("Frm_DHCPV6").checked = false;}else if("RA"== delegation){getObj("Frm_RA").checked = true;getObj("Frm_DHCPV6").checked = false;}else if("DHCPv6"== delegation){getObj("Frm_RA").checked = false;getObj("Frm_DHCPV6").checked = true;}else if("RA/DHCPv6"== delegation){getObj("Frm_RA").checked = true;getObj("Frm_DHCPV6").checked = true;}else {getObj("Frm_RA").checked = false;getObj("Frm_DHCPV6").checked = false;}}function Check_IntegerRange(value, min, max, Frm, Fnt){var tem = checkIntegerRange(value, min, max);if(tem == -1){msg = getmsg(101);ShowErrorForCom(Frm,Fnt,msg);return false;}else if(tem == -2){msg = getmsg(115);ShowErrorForCom(Frm,Fnt,msg);return false;}else if(tem == -3){msg = getmsg(116,min,max);ShowErrorForCom(Frm,Fnt,msg);return false;}return true;}function Check_PrefixValue(FrmPrefix, FntPrefix, FrmPrefixLen, min, max){var msg;var prefixValue = getValue(FrmPrefix);var prefixLenValue = getValue(FrmPrefixLen);if(false == checkNull(prefixValue)){msg = getmsg(101);ShowErrorForCom(FrmPrefix, FntPrefix, msg);return false;}if(false == checkNull(prefixLenValue)){msg = getmsg(101);ShowErrorForCom(FrmPrefixLen, FntPrefix, msg);return false;}if((false == checkIPV6Address(prefixValue)) || ("::"== prefixValue)){msg = getmsg(200);ShowErrorForCom(FrmPrefix, FntPrefix, msg);return false;}var ret = checkIntegerRange(prefixLenValue, 48, 64);if(-2 == ret){msg = getmsg(115);ShowErrorForCom(FrmPrefixLen, FntPrefix, msg);return false;}else if(-3 == ret){msg = getmsg(116, 48, 64);ShowErrorForCom(FrmPrefixLen, FntPrefix, msg);return false;}return true;}function pageCheckValue(insId){if(Check_PrefixValue("Frm_Prefix", "Fnt_Prefix", "Frm_PrefixLen", 48, 64) != true){return false;}var PreferLifetime = getValue("Frm_PreferLifetime");if(Check_IntegerRange(PreferLifetime, 0, 4294967295, "Frm_PreferLifetime", "Fnt_PreferLifetime") != true){return false;}var ValidLifetime = getValue("Frm_ValidLifetime");if(Check_IntegerRange(ValidLifetime, 0, 4294967295, "Frm_ValidLifetime", "Fnt_ValidLifetime") != true){return false;}if(Number(getValue("Frm_PreferLifetime")) > Number(getValue("Frm_ValidLifetime"))){msg = getmsg(202);ShowErrorForCom("Frm_PreferLifetime", null, msg);return false;}return true;}function pageSetValue(){var RaChecked = getChecked("Frm_RA");var DhcpCheckde = getChecked("Frm_DHCPV6");HiddenParaInit(STATIC_PREFIX_PARA);if(( getValue("Frm_Prefix") != "")&&( getValue("Frm_Prefix") != null )){jslSetValue("Prefix","Frm_Prefix");}else {setValue( "Prefix", "::");}if(( getValue("Frm_PrefixLen") != "")&&( getValue("Frm_PrefixLen") != null )){jslSetValue("PrefixLen","Frm_PrefixLen");}else {setValue( "PrefixLen","0");}jslSetValue("PreferLifetime", "Frm_PreferLifetime");jslSetValue("ValidLifetime", "Frm_ValidLifetime");if(false == RaChecked){if(false == DhcpCheckde){setValue("Delegation", "NONE");}else if(true == DhcpCheckde){setValue("Delegation", "DHCPv6");}}else if(true == RaChecked){if(false == DhcpCheckde){setValue("Delegation", "RA");}else if(true == DhcpCheckde){setValue("Delegation", "RA/DHCPv6");}}}function pageAdd(){ReSetValueRmZero("Frm_PreferLifetime", "Frm_ValidLifetime");if(true == pageCheckValue()){pageSetValue();setValue("IF_ACTION", "new");setValue("IF_INDEX", "-1");DisableALL();getObj("fSubmit").submit();}}function pageEdit(){ReSetValueRmZero("Frm_PreferLifetime", "Frm_ValidLifetime");if(true == pageCheckValue()){pageSetValue();setValue("IF_ACTION", "apply");setValue("IF_INDEX", index);DisableALL();getObj("fSubmit").submit();}}function Delete(i){setValue("IF_ACTION", "delete");setValue("IF_INDEX",i);DisableALL();getObj("fSubmit").submit();}function back4add(){var number = getValue("IF_INSTNUM");jslDisable("Btn_Add","Btn_Edit", "back");jslEnable("Frm_Prefix", "Frm_PrefixLen");for(var i = 0; i < number; i++){jslDisable("modify"+ i);jslDisable("delete"+ i);}DisableALL();getObj("fSubmit").submit();}</script>