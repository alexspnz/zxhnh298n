<script language = javascript>var indexArray = new Array(2);var indexIncallPSTN = "";function getmsg(id){var str = new Array();return getMsgFormArray(str, arguments);}function pageLoad(url){getObj("fSubmit").action = url;var errstr= getValue("IF_ERRORSTR");var errpara = getValue("IF_ERRORPARAM");OldProcessRet(errstr, errpara);moveErrLayer(580,40);pageGetValue();}function pageGetValue(){var srtNum = getValue("IF_SRT_INSTNUM");for (var i = 0; i < srtNum; i++){var sourceTid = getValue("OBJ_VOIPSRTID_ID_SourceTid"+ i);if (sourceTid == 10000){indexIncallPSTN = i;}else if (sourceTid == 20000){indexArray[0] = i;}else if (sourceTid == 20001){indexArray[1] = i;}else {}}var sipNum = 2;for (var i = 0; i < sipNum; i++){var j = parseInt(i, 10) + 1;var vpcfOneNumber = getValue("OBJ_VOIPVPCALLFEATURE_ID_OneNumber"+ i);if (1 == vpcfOneNumber){setChecked("Frm_FXS1toSIP"+ j, true);setChecked("Frm_FXS2toSIP"+ j, true);}else {var boudData = getValue("OBJ_VOIPSRTID_ID_BoudData"+ indexArray[i]);if (0 == boudData){setChecked("Frm_FXS1toSIP"+ j, true);setChecked("Frm_FXS2toSIP"+ j, false);}else if (1 == boudData){setChecked("Frm_FXS2toSIP"+ j, true);setChecked("Frm_FXS1toSIP"+ j, false);}else {setChecked("Frm_FXS1toSIP"+ j, false);setChecked("Frm_FXS2toSIP"+ j, false);}}}var homelineNum = getValue("IF_HL_INSTNUM");var outByWanId1 = getValue("OBJ_VOIPHOMELINE_ID_OutByWanId0");var outByWanId2 = getValue("OBJ_VOIPHOMELINE_ID_OutByWanId1");if(0 == outByWanId1){setChecked("Frm_OUTFXS10", true);}else if (1 == outByWanId1){setChecked("Frm_OUTFXS11", true);}else {}if(0 == outByWanId2){setChecked("Frm_OUTFXS20", true);}else if (1 == outByWanId2){setChecked("Frm_OUTFXS21", true);}else {}}function pageSetValue(){var sipNum = 2;for (var i = 0; i < sipNum; i++){var m = parseInt(i, 10) + 1;var sipToFXS1 = getChecked("Frm_FXS1toSIP"+ m);var sipToFXS2 = getChecked("Frm_FXS2toSIP"+ m);if (true == sipToFXS1 && true == sipToFXS2){setValue("OBJ_VOIPVPCALLFEATURE_ID_OneNumber"+ i, 1);}else {setValue("OBJ_VOIPVPCALLFEATURE_ID_OneNumber"+ i, 0);if (true == sipToFXS1 && false == sipToFXS2){setValue("OBJ_VOIPSRTID_ID_BoudData"+ indexArray[i], 0);}else if (false == sipToFXS1 && true == sipToFXS2){setValue("OBJ_VOIPSRTID_ID_BoudData"+ indexArray[i], 1);}else {setValue("OBJ_VOIPSRTID_ID_BoudData"+ indexArray[i], 255);}}}var homelineNum = getValue("IF_HL_INSTNUM");for (var k = 0; k < homelineNum; k++){var m = parseInt(k, 10) + 1;var radioObj = document.getElementsByName("Frm_OUTFXS"+ m);setValue("OBJ_VOIPHOMELINE_ID_OutByWanId"+ k, jslGetRadioValue(radioObj));}}function pageCheckValue(){return true;}function pageSubmit(){if (true == pageCheckValue()){pageSetValue();setValue("IF_ACTION", "apply");DisableALL();getObj("fSubmit").submit();}}function pageCancel(){DisableALL();getObj("fSubmit").submit();}</script>