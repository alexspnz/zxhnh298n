<%IMPORT FILE "common_gch_zxy.gch";IMPORT FILE "common_gch.gch";function vpcallfeature_func(FP_ACTION, FP_INDEX, FP_ERRORSTR){var FP_OBJNAME = "OBJ_VOIPVPCALLFEATURE_ID";var FP_MULTIDISPLAY = 1;var FP_PARANUM = 23;var FP_PARA[23] ={"CallWaitingEnable","AntiPole","CallForwardUnconditionalEnable","CallForwardUnconditionalNumber","CallForwardOnBusyEnable","CallForwardOnBusyNumber","CallForwardOnNoAnswerEnable","CallForwardOnNoAnswerNumber","SoftSwitchUnconditionalEnable","SoftSwitchOnBusyEnable","SoftSwitchOnNoReachable","OneNumber","CidDisplayEnable","CallerIDEnable","CallerIDNameEnable","CallerIDName","MWIEnable","MessageWaiting","CallHoldFlag","3WayTalking","DoNotDisturbEnable","AnonymousCallBlockEnable","TTYDevice"};var FP_INSTNUM, FP_HANDLE, FP_IDENTITY="";var OBJNAME = FP_OBJNAME + "_";create_hidden_newpara_zxy(OBJNAME, FP_PARA, FP_PARANUM);if(FP_ACTION == "apply"){if(FP_INDEX == -1){FP_INSTNUM = query_list(FP_OBJNAME, "IGD");for(var index = 0 ; index < FP_INSTNUM ; index++){FP_IDENTITY = query_identity(index);FP_HANDLE = create_paralist();for(var i=0; i< FP_PARANUM; i++){set_multiinst_para_zxy(FP_HANDLE, OBJNAME, FP_PARA[i], index);}FP_IDENTITY = set_inst(FP_HANDLE, FP_OBJNAME, FP_IDENTITY);}}else if(FP_INDEX >= 0){FP_INSTNUM = query_list(FP_OBJNAME, "IGD");FP_IDENTITY = query_identity(FP_INDEX);for(var i=0; i< FP_PARANUM; i++){setpara_zxy(FP_HANDLE, OBJNAME, FP_PARA[i]);}FP_IDENTITY = set_inst(FP_HANDLE, FP_OBJNAME, FP_IDENTITY);}}var instNum = query_list(FP_OBJNAME, "IGD");set_hidden("IF_INSTNUM", instNum);create_hidden_sep("IF_VPCF_INSTNUM", instNum);FP_ERRORSTR = getNewInstError_zxy(FP_ERRORSTR);return displayFunctionInst_zxy(FP_OBJNAME, FP_MULTIDISPLAY, FP_PARA, FP_PARANUM, FP_ERRORSTR);}%>