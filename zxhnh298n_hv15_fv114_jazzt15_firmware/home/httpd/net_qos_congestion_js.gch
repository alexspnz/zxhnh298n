<script language="javascript">var QOSC_PARA = new Array("ViewName","QueueKey","QueueNum","Enable","Weight","Interface","Algorithm");var index ="";function getmsg(id){var str = new Array();str[0] = new Array(100, "&?error_100;");str[1] = new Array(101, "&?error_101;");str[2] = new Array(115, "&?error_115;");str[3] = new Array(116, "&?error_116;");str[4] = new Array(117, "&?error_117;");str[5] = new Array(118, "&?error_118;");str[6] = new Array(119, "&?error_119;");str[7] = new Array(122, "&?error_122;");str[8] = new Array(127, "&?error_127;");return getMsgFormArray(str, arguments)}function deleteWDSOptions(selectID){var wdsIFArr = new Array();var ifObj = getObj(selectID);var j = 0;for ( var i=0; i<ifObj.options.length; i++ ){var optVal = ifObj.options[i].value;if ( optVal.match(/wds/i) != null ){wdsIFArr[j++] = optVal;}}for ( i=0; i<wdsIFArr.length; i++ ){deleteSelectOption(selectID, wdsIFArr[i]);}}function pageLoad(url){getObj("fSubmit").action = url;var errstr= getValue("IF_ERRORSTR");var errpara = getValue("IF_ERRORPARAM");OldProcessRet(errstr, errpara);jslSetValue("Frm_Interface", "IF_INTERFACE");deleteWDSOptions("Frm_Interface");showTable();ChangeAlgorithm(getValue("Frm_Algorithm"));}function getImage(src, strmethod,id){return ("<input type=\"button\" id=\""
+ id
+ "\"  onclick=\""
+ strmethod
+ "\" style=\"width:20px;height:20px;border:0px;padding:2px;cursor:pointer;background:url("
+ src
+ ");\">");}function addline(index){var newline = getObj("QQueueSch_Table").insertRow(-1);var number = getValue("IF_INSTNUM");newline.setAttribute("class", "white");newline.setAttribute("className", "white");newline.insertCell(-1).innerHTML = index + 1;newline.insertCell(-1).innerHTML = getValue("QueueNum"+index);newline.insertCell(-1).innerHTML = getValue("Algorithm"+index);newline.insertCell(-1).innerHTML = getValue("Weight"+index);newline.insertCell(-1).innerHTML=getImage("img/button_modify.gif", "Modify("+index+")","Btn_Modify"+index);}function showTable(){var num = getValue("IF_INSTNUM");if(num != 0 ){for(var i = 0; i < num; i++){addline(i);}}else {var newline = getObj("QQueueSch_Table").insertRow(-1);newline.setAttribute("align", "center");newline.setAttribute("class", "white");newline.setAttribute("className", "white");var objcell = newline.insertCell(-1);objcell.colSpan = 5;objcell.innerHTML= "&?note_007;";}}function pageSetValue(){HiddenParaInit(QOSC_PARA);var algorithm = getValue("Frm_Algorithm");jslSetValue("QueueNum", "Frm_QueueNum");switch (algorithm){case "DWRR":{jslSetValue("Weight", "Frm_Weight");break;}case "SP":default:{setValue("Weight", "0");break;}}jslSetValue("Interface", "Frm_Interface");jslSetValue("Algorithm", "Frm_Algorithm");var ele = getObj("Frm_Algorithm");if (ele.onchange){ele.onchange();}}function pageCheckValue(){var msg = "";if(getValue("Frm_QueueNum")!=""){if(checkInteger(getValue("Frm_QueueNum")) == false){msg = getmsg(115);ShowErrorForCom("Frm_QueueNum","Fnt_QueueNum",msg);return false;}var value = getValue("Frm_QueueNum");if(checkIntegerRange(value, 1, 4) != true){msg = getmsg(116,1,4);ShowErrorForCom("Frm_QueueNum","Fnt_QueueNum",msg);return false;}}else {msg = getmsg(101);ShowErrorForCom("Frm_QueueNum","Fnt_QueueNum",msg);return false;}var algorithm = getValue("Frm_Algorithm");if (algorithm == "DWRR"){if(checkNull(getValue("Frm_Weight")) != true){msg = getmsg(101);ShowErrorForCom("Frm_Weight","Fnt_Weight",msg);return false;}if(checkInteger(getValue("Frm_Weight")) == false){msg = getmsg(115);ShowErrorForCom("Frm_Weight","Fnt_Weight",msg);return false;}var value = getValue("Frm_Weight");if(checkIntegerRange(value, 0, 100) != true){msg = getmsg(116,0,100);ShowErrorForCom("Frm_Weight","Fnt_Weight",msg);return false;}}return true;}function ModifyGetValue(i){var number = getValue("IF_INSTNUM");var algorithm = getValue("Algorithm"+i);jslSetValue("Frm_QueueNum", "QueueNum"+i);jslSetValue("Frm_Algorithm", "Algorithm"+i);switch (algorithm){case "DWRR":{jslEnable("Frm_Weight");jslSetValue("Frm_Weight","Weight"+i);break;}case "SP":default:{jslEnable("Frm_Weight");setValue("Frm_Weight","0");jslDisable("Frm_Weight");break;}}}function Modify(i){jslEnDisplay("modify", "back");jslEnable("Frm_Weight");ModifyGetValue(i);jslDisable("Frm_Interface");index=i;}function ModifySubmit(){var number = getValue("IF_INSTNUM");if(getValue("Frm_Weight")==""){setValue("Frm_Weight",0);}ReSetValueRmZero("Frm_Weight");if(pageCheckValue() == true){for(var i = 0; i < number; i++){jslDisable("Btn_Modify"+ i);}jslDisable("modify", "back");pageSetValue();setValue("IF_ACTION", "apply");setValue("IF_INDEX",index);DisableALL();getObj("fSubmit").submit();}else {}}function Delete(i){var number = getValue("IF_INSTNUM");setValue("IF_ACTION", "delete");setValue("IF_INDEX",i);DisableALL();getObj("fSubmit").submit();}function QoSStatistics(){var number = getValue("IF_INSTNUM");for(var i = 0; i < number; i++){jslDisable("Btn_Modify"+ i);}jslDisable("modify", "back");window.location.href = getURL("net_qos_congestion_statistics_t.gch", "IF_INTERFACE", getValue("IF_INTERFACE"));}function ListQueueByInterface(if_identity){setValue("IF_ACTION", "list");setValue("IF_INTERFACE", if_identity);DisableALL();getObj("fSubmit").submit();}function ChangeAlgorithm(algo){if (algo == "SP"){setValue("Frm_Weight", "0");jslDisable("Frm_Weight");}else {jslEnable("Frm_Weight");}}function back4add(){var number = getValue("IF_INSTNUM");jslDisable("modify", "back");for(var i = 0; i < number; i++){jslDisable("Btn_Modify"+ i);}DisableALL();getObj("fSubmit").submit();}function pageAdd(){if(true == pageCheckValue()){disableAllButton();pageSetValue();setValue("IF_ACTION", "new");setValue("IF_INDEX", "-1");DisableALL();getObj("fSubmit").submit();}else {}}function disableAllButton(){jslDisable("modify", "back");var num = getValue("IF_INSTNUM");for( var btn_i = 0; btn_i < num; btn_i++){jslDisable("Btn_Delete"+ btn_i);jslDisable("Btn_Modify"+ btn_i);}}</script>