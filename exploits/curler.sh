# try to download all gch files to see what we can access without authentication

# vars
extension="*.gch"
path="../zxhnh298n_hv14_fv113_hyperoptic_firmware/home/httpd/"
url="http://192.168.1.1/"
tmp="out.txt"

for f in $(find ${path} -name ${extension})
do
  fbname=$(basename "$f")
  curl -s "${url}${fbname}" > ${tmp}
  grep "404 Not Found" ${tmp} > /dev/null
  if [ "$?" -ne "0" ]; then
    echo "================================================================"
    echo $fbname
    echo "================================================================"
    cat ${tmp}
  fi
done
